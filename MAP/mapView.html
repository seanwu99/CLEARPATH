<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>map view</title>
    <style>
        #container {
            height: 1000px;
            /*width: 500px;*/
            margin: 0 auto;
            display: none;
        }
    </style>

    <script id="sap-ui-bootstrap"
            src="https://sapui5.netweaver.ondemand.com/resources/sap-ui-core.js"
            data-sap-ui-theme="sap_bluecrystal"
            data-sap-ui-libs="sap.m,sap.ui.commons,sap.ui.table,sap.ui.core"
            data-sap-ui-language="en">
    </script>

</head>
<body>
<script src="Common/library/Highcharts/highmaps.src.js"></script>

<div id="container"></div>
<textarea id="geojson" placeholder="Paste your GeoJSON here to test your map"
          style="height:100px;width:100%"></textarea>
<button id="run">Run</button>
<button id="slideup">Up</button>

<script>
    $('#slideup').click(function () {
//        $('#container').slideUp("slow", function () {
//        })
        cc(highchartMap);
//        cc(highchartMap.series[0].data[0]);
        var color = "#FF0000";
        var data = highchartMap.series[0].data[2];
        data.update({
            color: 'red'
        });
        highchartMap.reflow();
    });
    var highchartMap;
    function cc(obj) {
        console.log(obj);
    }
    $('#run').click(function () {
        var geojson = JSON.parse($('#geojson').val());
        // Initiate the chart
        mJson = Highcharts.geojson(geojson);
        console.log('mJson : ' + JSON.stringify(mJson));
        mJson.push();

        highchartMap = new Highcharts.Map('container', {
            credits: {
                enabled: false,
                href: 'http://www.rtsperfectplant.com/',
                position: {
                    align: 'right',
                    x: -10,
                    verticalAlign: 'bottom',
                    y: -5
                },

                style: {
                    cursor: 'pointer',
                    color: '#999999',
                    fontSize: '9px'
                },

                text: 'RTS Consulting Inc.'
            },
            chart: {
                height: 1000,

                events: {
                    drilldown: function (e) {
                    },
                    drillup: function () {
                    }
                }
            },

            title: {
                text: ''
            },

//                subtitle: {
//                    text: 'subtitle',
//                    floating: true,
//                    align: 'right',
//                    y: 50,
//                    style: {
//                        fontSize: '16px'
//                    }
//                },

//                legend: small ? {} : {
//                    layout: 'vertical',
//                    align: 'right',
//                    verticalAlign: 'middle'
//                },
//
//            colorAxis: {
//                showInLegend: false,
//                min: 0,
//                minColor: '#E6E7E8',
//                maxColor: '#005645'
//            },

            mapNavigation: {
                enabled: true,
                buttonOptions: {
                    verticalAlign: 'top'
                }
            },

            plotOptions: {
                series: {
                    tooltip: {
                        headerFormat: '',
                        pointFormat: '{point.properties.KEY}'
                    }
                }
            },

            series: [
                {
                    borderWidth: 0,
                    data: mJson,
                    name: '',
                    type: '',
                    dataLabels: {
                        enabled: true,
                        align: 'center',
                        verticalAlign: 'middle',
                        format: '{point.properties.KEY}',
                    },
                    enableMouseTracking: true
                }
            ],

            drilldown: {
//                    //series: drilldownSeries,
//                activeDataLabelStyle: {
//                    color: '#FFFFFF',
//                    textDecoration: 'none',
//                    textShadow: '0 0 3px #000000'
//                },
//                    drillUpButton: {
//                        relativeTo: 'spacingBox',
//                        position: {
//                            x: 0,
//                            y: 60
//                        }
//                    }
            }
        });

        $('#container').slideDown("slow", function () {

//            alert('slideDown');
        }).highchartMap;
    });
    var a = '#7cb5ec';
    var a = '#434348';
    var a = '#90ed7d';
    var a = '#f7a35c';
    var a = '#8085e9';
    var a = '#f15c80';
    var a = '#e4d354';
    var a = '#2b908f';
    var a = '#f45b5b';
    var a = '#91e8e1';
</script>

</body>
</html>